<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";
  import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyAV6UygRZ1ItG1ywxfpsWfsGSOpZD3ZFoE",
    authDomain: "nfc-ptyp1.firebaseapp.com",
    projectId: "nfc-ptyp1",
    storageBucket: "nfc-ptyp1.appspot.com",
    messagingSenderId: "1014619306049",
    appId: "1:1014619306049:web:33bae58475464af792eec0"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  async function loadProfile() {
    try {
      const docRef = doc(db, "profiles", "test123");
      const docSnap = await getDoc(docRef);

      if (docSnap.exists()) {
        const data = docSnap.data();
        document.getElementById("name").innerText = data.name || "Name not found";
        document.getElementById("bio").innerText = data.bio || "Bio not found";
        document.getElementById("email").innerText = "ðŸ“§ " + (data.email || "Email not found");
        document.getElementById("phone").innerText = "ðŸ“ž " + (data.phone || "Phone not found");
        document.getElementById("instagram").href = data.instagram || "#";
        document.getElementById("instagram").innerText = data.instagram ? "Instagram" : "";
        document.getElementById("linkedin").href = data.linkedin || "#";
        document.getElementById("linkedin").innerText = data.linkedin ? "LinkedIn" : "";
      } else {
        document.getElementById("name").innerText = "Profile not found";
      }
    } catch (error) {
      console.error("Error loading profile: ", error);
      document.getElementById("name").innerText = "Error loading data";
    }
  }

  loadProfile();
</script>
